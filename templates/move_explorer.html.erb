<div id="move_explorer"></div>
<script>
  var app = Elm.MoveExplorer.init({
    node: document.getElementById("move_explorer")
  });
  <%# var chessboard; %>

  <%# app.ports.signalDomRendered2.subscribe(function (msg) { %>
  <%#   requestAnimationFrame(function() { %>
  <%#     chessboard = ChessBoard('chessboard', 'start'); %>
  <%#   }); %>
  <%# }); %>

  <%# app.ports.signalFenChanged2.subscribe(function (fen) { %>
  <%#   chessboard.position(fen); %>
  <%# }); %>
</script>
